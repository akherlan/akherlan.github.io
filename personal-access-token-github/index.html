<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Catatan kecil Andi."><link rel="shortcut icon" href=https://akherlan.github.io/favicon.ico><link rel=stylesheet href=/css/style.min.css><link rel=canonical href=https://akherlan.github.io/personal-access-token-github/><title>Personal Access Token Github</title></head><body><header id=banner><h2><a href=https://akherlan.github.io/>Notebook</a></h2><nav><ul><li><a href=/about/ title=about>about</a></li><li><a href=/now/ title=now>now</a></li><li><a href=/read/ title=read>read</a></li><li><a href=/index.xml title=rss>rss</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Personal Access Token Github</h1><div><time>16 April 2020</time></div></header><aside id=toc><h4>Table of Contents</h4><nav id=TableOfContents><ul><li><a href=#1-menggunakan-paket-usethis>1. Menggunakan paket usethis</a></li><li><a href=#2-tanpa-menggunakan-usethis>2. Tanpa menggunakan usethis</a></li></ul></nav></aside><p>Personal access token (PAT) berguna untuk interaksi antara suatu program dengan akun Github milik kita melalui &ldquo;pintu belakang yang disepakati&rdquo;.</p><p>Pada kasus ini, saya ingin agar saya bisa berinteraksi dengan kumpulan dataset saya yang tersimpan di repositori Github melalui RStudio (maupun konsol R melalui terminal).</p><p>Repositori ini tentu tidak boleh diotak-atik sembarangan oleh siapapun, dan hanya pemilik akun (atau komunitas/grup) yang berwenang menyuntingnya, maka dibutuhkan token. Pemilik token-lah yang memegang kendali.</p><p>Ada beberapa cara untuk membuat dan menyimpan Github PAT ke komputer linux (saya pakai Xubuntu). Seharusnya, di Windows tidak akan jauh berbeda.</p><h2 id=1-menggunakan-paket-usethis>1. Menggunakan paket usethis</h2><p>Cara pertama ini adalah yang saya gunakan. Lebih mudah jika dilakukan lewat RStudio. Yang wajib disediakan adalah tentu saja paket <code>usethis</code>. Jika belum punya, bisa instal dulu dari konsol:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>install.packages</span><span class=p>(</span><span class=s>&#34;usethis&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Log in dulu ke akun Github di browser default, agar nanti ketika direct dari RStudio langsung terbuka halaman yang tinggal OK-OK saja. Gunakan perintah ini untuk menuju laman pembuatan token.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>usethis</span><span class=o>::</span><span class=nf>browse_github_pat</span><span class=p>()</span>
</span></span></code></pre></div><p>Kita akan diarahkan ke <a href=https://github.com/settings/tokens/new>laman pembuatan PAT</a> dan otomatis terisi default yang dibutuhkan. Ini bisa di <em>custom</em> dulu kalau kita perlukan. Kalau saya sementara biarkan yang sudah terpilih saja. Lalu tekan &ldquo;Generate token&rdquo; yang di paling bawah.</p><p><strong>INI PENTING!</strong> Jangan lupa copas seluruh 40 karakter acak yang muncul.</p><p>Berikutnya kita kembali ke jendela RStudio lagi, lalu gunakan perintah berikut untuk menampilkan berkas <code>.Renviron</code> yang tersimpan di komputer:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>usethis</span><span class=o>::</span><span class=nf>edit_r_environ</span><span class=p>()</span>
</span></span></code></pre></div><figure><img src=https://telegra.ph/file/2ff4dbf4ba62c842cf3e6.gif alt="R environment"><figcaption><p>Membuka berkas .Renviron</p></figcaption></figure><p>Akan terbuka berkas <code>.Renviron</code> yang berada di direktori home. Jika tidak punya, berarti <code>usethis</code> akan membuatkan berkas ini untukmu. Ketikkan teks berikut di editor skrip yang terbuka:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>GITHUB_PAT</span><span class=o>=</span><span class=n>xxxxxxxxxxxxxx</span>
</span></span><span class=line><span class=cl><span class=c1># ganti xxxxxxxxxxxxxx dengan token yang tadi di copas dari Github</span>
</span></span></code></pre></div><figure><img src=https://telegra.ph/file/51c0b4e6546f51392d9ff.gif alt="Personal Access Token Github"><figcaption><p>Memasukkan token</p></figcaption></figure><p>Tanpa tanda kutip ya&mldr;</p><p>Pastikan satu baris terakhir tersisa kosong (mereka bilang ini <em>new line</em>). Jangan lupa di simpan. Kalau nggak, percuma tadi capek-capek bikin.</p><p>Cek, apakah sudah ada?</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>nchar</span><span class=p>(</span><span class=nf>Sys.getenv</span><span class=p>(</span><span class=s>&#34;GITHUB_PAT&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1>## [1] 40</span>
</span></span></code></pre></div><p>Betul, ada 40 karakter. Berikutnya, kita sudah bisa menggunakan berbagai fungsi dari paket R macam-macam yang membutuhkan akses token Github.</p><p>Misalnya saya mau koneksikan RStudio dengan <a href=https://github.com/akherlan/dataset/>repositori dataset</a> yang saya punya.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=nf>library</span><span class=p>(</span><span class=s>&#34;pins&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>board_register</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=n>board</span> <span class=o>=</span> <span class=s>&#34;github&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=n>name</span> <span class=o>=</span> <span class=s>&#34;databoard&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>  <span class=n>repo</span> <span class=o>=</span> <span class=s>&#34;akherlan/dataset&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>gempa</span> <span class=o>&lt;-</span> <span class=nf>pin_get</span><span class=p>(</span><span class=s>&#34;gempa&#34;</span><span class=p>,</span> <span class=s>&#34;databoard&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>head</span><span class=p>(</span><span class=n>gempa</span><span class=p>)</span>
</span></span></code></pre></div><p>Keluaran:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=c1>## # A tibble: 6 x 13</span>
</span></span><span class=line><span class=cl><span class=c1>##   tanggal    waktu   lat   lon kdlm.KM mag.SR typemag  smaj    smin    az</span>
</span></span><span class=line><span class=cl><span class=c1>##   &lt;date&gt;     &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt; &lt;fct&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;int&gt;</span>
</span></span><span class=line><span class=cl><span class=c1>## 1 2009-01-01 01:2…  3.73  127.      67    4.6 MLv     10317 1.80e+3   147</span>
</span></span><span class=line><span class=cl><span class=c1>## 2 2009-01-01 03:4… -6.84  130.     103    5.2 mb      22841 2.78e+3    48</span>
</span></span><span class=line><span class=cl><span class=c1>## 3 2009-01-01 05:2…  1.45  121.      10    5.1 MLv     10432 1.54e+0   121</span>
</span></span><span class=line><span class=cl><span class=c1>## 4 2009-01-01 08:4…  1.52  122.      10    4.5 MLv      7557 1.04e+3   136</span>
</span></span><span class=line><span class=cl><span class=c1>## 5 2009-01-01 08:5… -8.44  116.      91    3.4 MLv      2699 1.93e-1   261</span>
</span></span><span class=line><span class=cl><span class=c1>## 6 2009-01-01 10:3…  1.41  122       34    5   Mw(mB)  84783 9.33e-1    46</span>
</span></span><span class=line><span class=cl><span class=c1>## # … with 3 more variables: rms &lt;dbl&gt;, cphase &lt;int&gt;, region &lt;chr&gt;</span>
</span></span></code></pre></div><h2 id=2-tanpa-menggunakan-usethis>2. Tanpa menggunakan usethis</h2><p>Cara ini adalah cara manual. Mengapa saya bilang manual? Karena semua dilakukan sendiri langkah-langkahnya dan kita menentukan sendiri letak-letak berkasnya, juga akses halamannya cari sendiri. Kasian yah?</p><p>Tapi dengan cara ini kita nggak perlu instal <code>usethis</code>.</p><ol><li>Login ke Github dengan akun sendiri</li><li>Pergi ke laman Setting > Developer settings > Personal access tokens</li><li>Atau kasian lah, saya titip aja <a href=https://github.com/settings/tokens/>link</a>-nya</li><li>Klik tombol &ldquo;Generate new token&rdquo;</li><li>Beri nama PAT-nya pada kolom &ldquo;note&rdquo;</li><li>Ceklis akses apa saja yang dibutuhkan</li><li>&ldquo;Generate token&rdquo; yang warna hijau</li><li>Copy/copas token</li><li>Buat berkas baru di direktori home di komputer dengan nama <code>.Renviron</code> (tanpa <em>extension</em>), kalau sudah ada, pakai yang ada</li><li>Buka <code>.Renviron</code> menggunakan text editor</li><li>unting/edit isinya dengan menambahkan baris <code>GITHUB_PAT=xxxxxxxxxxxxxx</code> seperti penjelasan sebelumnya</li><li>Simpan</li></ol><p>Bahkan dengan cara ini, kita nggak perlu berinteraksi dengan konsol R atau buka-buka program RStudio!</p><p>Sekian dulu.</p><p><strong>Referensi:</strong> <a href=https://happygitwithr.com/github-pat.html>https://happygitwithr.com/github-pat.html</a></p></article></main><footer id=footer>Powered by Hugo and Github Page.</footer><script type=text/javascript src=https://akherlan.github.io/js/annotate.min.88ae6fba4933a1db29231db604c28be7756b6de8a3cfab52ca92b402029cd019edc467245cfc5d4e072fa32ec791fdc4340722a92a7baee422205768dfee2fb6.js integrity="sha512-iK5vukkzodspIx22BMKL53Vrbeijz6tSypK0AgKc0BntxGckXPxdTgcvoy7Hkf3ENAciqSp7ruQiIFdo3+4vtg=="></script></body></html>