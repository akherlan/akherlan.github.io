<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Catatan kecil Andi."><link rel="shortcut icon" href=https://akherlan.github.io/favicon.ico><link rel=stylesheet href=/css/style.min.css><link rel=canonical href=https://akherlan.github.io/branch-untuk-gh-pages-databoard/><title>Branch untuk GH-Pages Databoard</title></head><body><header id=banner><h2><a href=https://akherlan.github.io/>Notebook</a></h2><nav><ul><li><a href=/about/ title=about>about</a></li><li><a href=/now/ title=now>now</a></li><li><a href=/read/ title=read>read</a></li><li><a href=/index.xml title=rss>rss</a></li></ul></nav></header><main id=content><article><header id=post-header><h1>Branch untuk GH-Pages Databoard</h1><div><time>April 26, 2020</time></div></header><p>Ini ditulis supaya kemudian hari kalau lupa bisa saya buka lagi. Singkat cerita, seperti ini:</p><script async src=https://telegram.org/js/telegram-widget.js?8 data-telegram-post=GNURIndonesia/20654 data-width=100%></script><p>Apakah cukup jelas?</p><p>Langkah-langkah yang saya pakai secara teknis adalah seperti berikut:</p><p><strong>1. Clone repositori <a href=https://github.com/akherlan/databoard>databoard</a></strong>, saya pakai tautan ssh karena nyaman dan aman.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ mkdir databoard <span class=o>&amp;&amp;</span> <span class=nb>cd</span> databoard
</span></span><span class=line><span class=cl>$ git clone git@github.com:akherlan/databoard.git master
</span></span></code></pre></div><p>Tautan repo copas dari bagian ini.</p><figure><img src=https://telegra.ph/file/163c081da6ad09bece7a8.png alt="clone github repository"><figcaption><h4>Gambar 1</h4><p>Clone repositori</p></figcaption></figure><p><strong>2. Gandakan hasil clone ke lokal tadi</strong> menjadi direktori gh-pages.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ cp master gh-pages
</span></span></code></pre></div><p><strong>3. Buat branch baru dengan nama &ldquo;gh-pages&rdquo;</strong> dari repo di direktori gh-pages yang nanti akan diunggah ke upstream &ldquo;origin/gh-pages&rdquo;.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ <span class=nb>cd</span> gh-pages
</span></span><span class=line><span class=cl>$ git checkout origin/gh-pages -b gh-pages
</span></span></code></pre></div><p>Ini akan membuat pekerjaan yang dilakukan berpindah dan direkam ke branch &ldquo;gh-pages&rdquo; (bukan &ldquo;master&rdquo; lagi). Periksa dengan:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git branch
</span></span></code></pre></div><p>Tanda bintang ada di branch &ldquo;gh-pages&rdquo;.</p><p><strong>4. Hapus branch &ldquo;master&rdquo; pada direktori gh-pages</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git branch -d master
</span></span></code></pre></div><p><strong>5. Hapus semua isi direktori gh-pages yang ada</strong> KECUALI direktori <strong>.git</strong></p><p><strong>6. Buat proyek laman web statis di direktori lain</strong></p><p>Saya membuat direktori rproj (sebagai <em>child</em> dari direktori databoard) untuk membangun laman statis ini karena saya membuatnya menggunakan Rmarkdown.</p><figure><img src=https://telegra.ph/file/90a89fea71e8319069267.png alt=direktori><figcaption><h4>Gambar 2</h4><p>Jadi ada tiga child dir dalam parent dir databoard</p></figcaption></figure><p><strong>7. Copas hasil rendernya ke direktori gh-pages</strong> yang tadi sudah kosong.</p><p>Mengapa tidak membuat alamat render langsung ditujukan ke direktori gh-pages? Karena nanti rekaman git-nya hilang. Rmarkdown akan mengganti/menimpa direktori gh-pages yang ada dan mengisinya dengan berkas-berkas baru hasil render.</p><p>Sebagai opsi, juga bisa gunakan version control pada direktori rproj ini, kalau diperlukan.</p><p><strong>8. Lakukan commit dan push dari branch &ldquo;gh-pages&rdquo;</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git add .
</span></span><span class=line><span class=cl>$ git commit -m <span class=s2>&#34;commit pertama untuk gh-pages&#34;</span>
</span></span><span class=line><span class=cl>$ git push origin gh-pages
</span></span></code></pre></div><p>Awas itu setelah <code>add</code> ada titiknya.</p><p><strong>9. Atur agar Github Pages dijalankan dari branch &ldquo;gh-pages&rdquo;</strong></p><figure><img src=https://telegra.ph/file/55170682f9bf97507e8e7.png alt="github pages"><figcaption><h4>Gambar 3</h4><p>Pengaturan Github Pages</p></figcaption></figure><p>Sampai di sini, laman sudah online <a href=https://akherlan.github.io/databoard>di sini</a>.</p><p>Berikutnya, direktori master bisa saya hapus/buang saja karena selanjutnya repositori databoard branch &ldquo;master&rdquo; langsung terhubung dan dikelola melalui paket <code>pins</code> di R.</p><p>Saya melakukan ini setelah membaca dua panduan <a href=https://gist.github.com/chrisjacob/833223>ini(1)</a> dan <a href=https://gist.github.com/cobyism/4730490>ini(2)</a>. Mana tau juga bisa bermanfaat buat teman-teman.</p><p>Terima kasih.</p></article></main><footer id=footer>Powered by Hugo and Github Page.</footer><script type=text/javascript src=https://akherlan.github.io/js/annotate.min.5b4a25824103cc64465094e19cc2320c441bfb502095d340b33f9b9b252657f00a1f08fdbb369fa15ca73ce0db9fb60e5f78935a6954e5d2371ef3e7b0a4b281.js integrity="sha512-W0olgkEDzGRGUJThnMIyDEQb+1AgldNAsz+bmyUmV/AKHwj9uzafoVynPODbn7YOX3iTWmlU5dI3HvPnsKSygQ=="></script></body></html>